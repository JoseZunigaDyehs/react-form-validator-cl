(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(21)},16:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"required",function(){return b}),a.d(n,"file",function(){return y}),a.d(n,"checkbox",function(){return F}),a.d(n,"email",function(){return k}),a.d(n,"tel",function(){return O}),a.d(n,"text",function(){return C}),a.d(n,"cleanRut",function(){return j}),a.d(n,"rut",function(){return x}),a.d(n,"formatRut",function(){return S}),a.d(n,"select",function(){return w});var r=a(0),l=a.n(r),i=a(9),o=a.n(i),c=a(1),s=a(3),u=a(2),f=a(4),d=a(5),m=(a(16),a(7)),v=a.n(m);v.a.FormError={errorMsg:v.a.string.isRequired};var p=function(e){var t=e.errorMsg;return l.a.createElement("div",{class:"error-msg"},l.a.createElement("p",null,t))},h=a(6),g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).input=l.a.createRef(),a.validate=function(){var e=a.props,t=e.name,n=e.validateFunc,r=e.validate;n(a.input.current,r,t)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"content",value:function(){var e=this,t=this.props,a=t.type,n=t.name,r=t.placeholder,i=t.autocomplete,o=t.withError;return l.a.createElement("input",{ref:this.input,type:a,name:n,placeholder:r,autoComplete:i,onKeyUp:function(){e.validate()},className:o?" error":""})}},{key:"render",value:function(){return this.content()}}]),t}(r.Component),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).input=l.a.createRef(),a.validate=function(){var e=a.props,t=e.name,n=e.validateFunc,r=e.validate;n(a.input.current,r,t)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"content",value:function(){var e=this,t=this.props,a=t.name,n=t.placeholder,r=t.autocomplete,i=t.rows,o=t.withError?" error":"";return l.a.createElement("textarea",{ref:this.input,name:a,placeholder:n,autoComplete:r,rows:i,onKeyUp:function(){e.validate()},className:o})}},{key:"render",value:function(){return this.content()}}]),t}(r.Component);function b(e,t,a){switch(e.tagName){case"INPUT":return"checkbox"===e.type?"off"!==e.value:"file"===e.type?0!==e.files.length:0!==e.value.length;case"DIV":if(e.classList[0].includes("options"))return w(e,t,a);break;case"TEXTAREA":return 0===!e.value.length}}function y(e,t,a){return!a||0===!e.files.length}function F(e,t,a){return!a||"off"===!e.value}function k(e,t,a){var n=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a?n.test(e.value):!(e.value.length>0)||n.test(e.value)}function O(e,t,a){if(a){return!!(/^[0-9]+$/.test(e.value)&&e.value.length>=9&&e.value.length<=9)}if(e.value.length>0){return!!(/^[0-9]+$/.test(e.value)&&e.value.length>=9&&e.value.length<=9)}return!0}function C(e,t,a){if(a){if(""===e.value)return!1;var n=t.rules.min,r=t.rules.max,l=!1;return e.value.length>=n&&e.value.length<=r&&(l=!0),l}if(e.value.length>0){if(""===e.value)return!1;var i=t.rules.min,o=t.rules.max,c=!1;return e.value.length>=i&&e.value.length<=o&&(c=!0),c}return!0}function j(e){return"string"===typeof e?e.replace(/^0+|[^0-9kK]+/g,"").toUpperCase():""}function x(e,t,a){if(e=e.value,a){if("string"!==typeof e)return!1;if(!/^0*(\d{1,3}(\.?\d{3})*)-?([\dkK])$/.test(e))return!1;if((e=j(e)).length>9||e.length<8)return!1;for(var n=parseInt(e.slice(0,-1),10),r=0,l=1;n>0;)l=(l+n%10*(9-r++%6))%11,n=Math.floor(n/10);var i=l>0?""+(l-1):"K";return i===e.slice(-1)}if(e.length>0){if("string"!==typeof e)return!1;if(!/^0*(\d{1,3}(\.?\d{3})*)-?([\dkK])$/.test(e))return!1;if((e=j(e)).length>9||e.length<8)return!1;for(n=parseInt(e.slice(0,-1),10),r=0,l=1;n>0;)l=(l+n%10*(9-r++%6))%11,n=Math.floor(n/10);return(i=l>0?""+(l-1):"K")===e.slice(-1)}return!0}function S(e){for(var t=(e=j(e=e.value)).slice(-4,-1)+"-"+e.substr(e.length-1),a=4;a<e.length;a+=3)t=e.slice(-3-a,-a)+"."+t;return t}function w(e,t,a){var n=void 0===e.dataset.valor?-1:e.dataset.valor;return a?-1!=n:-1==n||-1!=n}var N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={selected:-1,active:!1},a.options=l.a.createRef(),a.fillOptions=function(e){return e.map(function(e,t){return l.a.createElement("option",{value:e.value},e.text)})},a.activeSelect=function(){a.setState({active:!a.state.active})},a.setSelected=function(e,t,n,r){var l=r.target.dataset.value;a.options.current.dataset.valor=l,n(r.target.closest(".options"),e,t),a.setState({selected:l,active:!1})},a.fillOptionsShow=function(e){var t=a.props,n=t.validateFunc,r=t.validate,i=t.name,o=r.types.filter(function(e){return"required"===e}),c=a.state.selected,s=[];return e.forEach(function(e,t){c==e.value&&s.push(l.a.createElement("div",{key:t,"data-value":e.value,onClick:function(){a.activeSelect()}},e.text))}),e.forEach(function(e,t){if(0===o.length)c==e.value?s.push(l.a.createElement("div",{"data-value":e.value,key:t+e.text,onClick:function(e){a.activeSelect(e)},className:"disabled"},e.text)):s.push(l.a.createElement("div",{"data-value":e.value,key:t+e.text,onClick:function(e){a.setSelected(r,i,n,e)}},e.text));else if(c==e.value&&-1!==e.value)s.push(l.a.createElement("div",{"data-value":e.value,key:t+e.text,onClick:function(e){a.activeSelect(e)},className:"disabled"},e.text));else{if(-1==e.value)return null;s.push(l.a.createElement("div",{"data-value":e.value,key:t+e.text,onClick:function(e){a.setSelected(r,i,n,e)}},e.text))}}),s},a.content=function(){var e=a.props,t=e.options,n=e.withError,r=a.state.active?" active":"",i=n?" error":"";return l.a.createElement("div",{className:"select"},l.a.createElement("div",{className:"options"+r+i,ref:a.options},a.fillOptionsShow(t)))},a.render=function(){return a.content()},a}return Object(f.a)(t,e),t}(r.Component),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).input=l.a.createRef(),a.validate=function(){var e=a.props,t=e.name,n=e.validateFunc,r=e.validate;n(a.input.current,r,t)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"content",value:function(){var e=this,t=this.props,a=t.name,n=(t.validateFunc,t.validate,t.withError);return l.a.createElement("label",{className:"switch"},l.a.createElement("strong",null,"NO"),l.a.createElement("input",{ref:this.input,type:"checkbox",className:n?" error":"",name:a,onChange:function(){e.validate()}}),l.a.createElement("span",{className:"slider round"}),l.a.createElement("strong",null,"SI"))}},{key:"render",value:function(){return this.content()}}]),t}(r.Component),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).attach=l.a.createRef(),a.attachFile=a.attachFile.bind(Object(d.a)(Object(d.a)(a))),a.attachIconClick=a.attachIconClick.bind(Object(d.a)(Object(d.a)(a))),a.deleteFile=a.deleteFile.bind(Object(d.a)(Object(d.a)(a))),a.state={error:null,enabled:!0},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"deleteFile",value:function(e,t){(0,this.props.deleteFileForm)(e)}},{key:"attachIconClick",value:function(){this.attach.current.click()}},{key:"attachFile",value:function(){var e=this.attach.current.files[0].size,t=this.props,a=t.attachFileForm,n=t.general,r=t.attach;if(e>0&&e<=r.get("maxSize")){var l=this.attach.current.files[0],i=l.type,o=r.get("types"),c=!1;if(o.forEach(function(e){e===i&&(c=!0)}),c){var s={};s.file=l,s.general=n.toJS(),a(s),this.setState({error:null,enabled:!1})}else this.setState({error:"No hay mano"})}else this.setState({error:"Excede el m\xe1ximo permitido"})}},{key:"fillError",value:function(){if(null!==this.state.error){var e=this.props.mainCss;return l.a.createElement("p",{className:e.Error},this.state.error)}}},{key:"fillFiles",value:function(e){var t=this,a=e.map(function(e,a){return l.a.createElement("li",{key:a},l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.get("url")},e.get("name")),l.a.createElement("i",{onClickCapture:t.deleteFile.bind(t,a),className:"fas fa-times"}))});return l.a.createElement("ul",null,a)}},{key:"content",value:function(){var e=this.props,t=e.type,a=e.name,n=e.formularioStates,r=e.mainCss,i=n.get("files"),o=this.state.error?" "+r.Error:"";return i&&i.size>0?l.a.createElement("div",null,l.a.createElement("input",{type:t,ref:this.attach,className:"hide",name:a,onChange:this.attachFile}),l.a.createElement("button",{disabled:this.state.enabled,type:"button",onClick:this.attachIconClick,className:r.Btn+" "+r.BtnAttach+o},"Adjuntar",l.a.createElement("i",{className:"fas fa-paperclip"})),this.fillFiles(i)):l.a.createElement("div",null,l.a.createElement("input",{type:t,ref:this.attach,className:r.Hide,name:a,onChange:this.attachFile}),l.a.createElement("button",{type:"button",onClick:this.attachIconClick,className:r.Btn+" "+r.BtnAttach+o},"Adjuntar",l.a.createElement("i",{className:"fas fa-paperclip"})))}},{key:"render",value:function(){return this.content()}}]),t}(r.Component),I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={enabled:!1,error:!1,isFetching:!1,files:[],invalidFiels:[],validate:!1},a.buttonSend=l.a.createRef(),a.componentWillUnmount=function(){a.state.setState({invalidFiels:[],validate:!1,error:!1,isFetching:!1})},a.sendFormStart=function(){a.state.setState({isFetching:!0})},a.sendFormEnd=function(){a.state.setState({isFetching:!1})},a.enabledForm=function(){a.state.setState({enabled:!0})},a.disabledForm=function(){a.state.setState({enabled:!1})},a.setFiles=function(e){var t=a.state;a.state.setState({files:t.push(e)})},a.deleteFile=function(e){var t=a.state;a.state.setState({files:t.splice(e,1)})},a.sendForm=function(e,t){},a.validate=function(e,t,r){var l=t.types,i=!1,o=void 0===e.target?e:e.target,c=a.state.invalidFiels;c=c.filter(function(e){return e!==r});var s=l.filter(function(e){return"required"===e});s=s.length>0,l.forEach(function(e){n[e](o,t,s)||(i=!0)}),i&&c.push(r),a.setState({invalidFiels:c})},a.validateAll=function(e,t){for(var a=[],r=function(r){var l=t[r],i=e[r],o=i.name,c=i.validate,s=c.types,u=l.elements[0],f=!1,d=s.filter(function(e){return"required"===e});d=d.length>0,u=void 0!==u?u:l.getElementsByClassName("options")[0],a=a.filter(function(e){return e!==o}),s.forEach(function(e){n[e](u,c,d)||(f=!0)}),f&&a.push(o)},l=0;l<t.length;l++)r(l);return a},a.closeForm=function(){a.state.setState({enabled:!1})},a.sendDataForm=function(){var e=a.props,t=e.sendFunc,n=e.fields,r=Object(d.a)(Object(d.a)(a)).buttonSend.current.closest("form").getElementsByTagName("fieldset"),l=a.validateAll(n,r),i={};if(l.length>0)a.setState({invalidFiels:l});else{for(var o=0;o<r.length;o++){var c=r[o].elements[0],s="",u="";void 0!==c?(s=c.value,u=c.name):(s=r[o].lastChild.firstChild.dataset.valor,u="opciones"),i[u]=s}t(i)}},a.fillError=function(e,t){return e?l.a.createElement("p",null,l.a.createElement("small",{className:"error"},t)):null},a.fillErrorComponent=function(){return a.state.error?l.a.createElement(p,{errorMsg:a.props.errorMsg}):null},a.fillContent=function(e){if(e.length>0){var t=[];return e.forEach(function(e,n){var r=a.state.invalidFiels.includes(e.name);switch(e.type){case"textarea":t.push(l.a.createElement("fieldset",{key:n+e.name},l.a.createElement("legend",null,e.legend),l.a.createElement(E,{rows:e.rows,name:e.name,placeholder:e.placeholder,autocomplete:e.autocomplete,validateFunc:a.validate,validate:e.validate,withError:r}),a.fillError(r,e.validate.error)));break;case"select":t.push(l.a.createElement("fieldset",{key:n+e.name},l.a.createElement("legend",null,e.legend),l.a.createElement(N,{name:e.name,validateFunc:a.validate,validate:e.validate,withError:r,options:e.options}),a.fillError(r,e.validate.error)));break;case"checkbox":t.push(l.a.createElement("fieldset",{key:n+e.name},l.a.createElement("legend",null,e.legend),l.a.createElement(R,{name:e.name,validateFunc:a.validate,validate:e.validate,withError:r}),a.fillError(r,e.validate.error)));break;case"file":var i=a.props,o=i.attachFileForm,c=i.formularioStates,s=i.general,u=i.colorHeader,f=i.deleteFileForm;t.push(l.a.createElement("fieldset",{key:n+e.name},l.a.createElement("legend",null,e.legend),l.a.createElement(A,{validateFunc:a.validate,validate:e.validate,withError:r,general:s,attachFileForm:o,colorHeader:u,type:e.type,name:e.name,formularioStates:c,deleteFileForm:f,attach:e.validate.rules}),a.fillError(r,e.validate.error)));break;default:t.push(l.a.createElement("fieldset",{key:n+e.name},l.a.createElement("legend",null,e.legend),l.a.createElement(g,{type:e.type,name:e.name,placeholder:e.placeholder,autocomplete:e.autocomplete,validate:e.validate,withError:r,validateFunc:a.validate}),a.fillError(r,e.validate.error)))}}),t}return null},a.content=function(){var e=a.props,t=e.fields,n=e.distinctFieldsMsg,r=e.autoComplete;return l.a.createElement("div",{className:"form-container "},l.a.createElement("div",{className:"container-form"},l.a.createElement("form",{autoComplete:r},l.a.createElement("div",{className:"header-form"}),l.a.createElement("p",{className:"red"},n),a.fillContent(t),l.a.createElement("button",{type:"button",ref:a.buttonSend,onClick:function(){a.sendDataForm()},className:"button-send"},"Enviar")),a.fillErrorComponent()))},a.render=function(){return a.content()},a}return Object(f.a)(t,e),t}(r.Component);o.a.render(l.a.createElement(I,{primaryColor:"red",distinctFieldsMsg:"Campos obligatorios (*)",autoComplete:"off",fields:[{legend:"Nombre*",type:"text",name:"nombre",placeholder:"Ej. Juan",autocomplete:"off",validate:{types:["required","text"],rules:{min:3,max:10},error:"Debes completar el nombre (m\xednimo 3, m\xe1ximo 10)"}},{legend:"Rut*",type:"text",name:"rut",placeholder:"Ej. 11111111-1",autocomplete:"off",validate:{types:["required","rut"],error:"Debes ingresar un rut v\xe1lido"}},{legend:"Tel\xe9fono",type:"tel",name:"telefono",placeholder:"Ej. 912345678",autocomplete:"off",validate:{types:["tel"],error:"Debes ingresar un tel\xe9fono v\xe1lido"}},{legend:"Correo electr\xf3nico*",type:"email",name:"email",placeholder:"Ej. nombre@micorreo.cl",autocomplete:"off",validate:{types:["required","email"],error:"Debes ingresar un correo electr\xf3nico v\xe1lido"}},{legend:"Switch*",type:"checkbox",name:"switch",validate:{types:["checkbox"],error:"Debes seleccionar el checkbox"}},{legend:"Select prueba",type:"select",name:"opciones",options:[{text:"Seleccione",value:-1},{text:"Opcion #1",value:1},{text:"Opcion #2",value:2},{text:"Opcion #3",value:3}],validate:{types:["required","select"],error:"Debes seleccionar una opci\xf3n"}},{legend:"Comentario",type:"textarea",name:"comentario",placeholder:"Escriba aqu\xed su comentario",autocomplete:"off",rows:5,validate:{types:["text"],rules:{min:3,max:150},error:"Debes completar el nombre (m\xednimo 3, m\xe1ximo 150)"}}],sendFunc:function(e){return console.log(e),!0},errorMsg:"ERRORORRO",error:!1}),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.f5aba820.chunk.js.map